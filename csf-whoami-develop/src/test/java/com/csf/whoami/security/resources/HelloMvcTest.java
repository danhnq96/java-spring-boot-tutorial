package com.csf.whoami.security.resources;

//@RunWith(SpringRunner.class)
//@SpringBootTest(
//        webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT,
//        classes = TestConfig.class
//)
//@AutoConfigureMockMvc
public class HelloMvcTest {

//    @Autowired
//    private MockMvc mockMvc;
//
//    @Test
//    @WithUserDetails("user1@test.com")
//    public void shouldAllowUserWithUserRole() throws Exception {
//        mockMvc.perform(MockMvcRequestBuilders.get("/api/hello?name=Seb")
//                .accept(MediaType.ALL))
//                .andExpect(status().isOk())
//                .andExpect(jsonPath("$.greetings", is("Welcome Seb (user1@test.com)!")));
//    }
//
//    @Test
//    @WithUserDetails("user2@test.com")
//    public void shouldRejectUserWithNoAuthorities() throws Exception {
//        mockMvc.perform(MockMvcRequestBuilders.get("/api/hello?name=Seb")
//                .accept(MediaType.ALL))
//                .andExpect(status().isForbidden());
//    }
//
//    @Test
//    public void shouldRejectIfNoAuthentication() throws Exception {
//        mockMvc.perform(MockMvcRequestBuilders.get("/api/hello?name=Seb")
//                .accept(MediaType.ALL))
//                .andExpect(status().isUnauthorized());
//    }
}